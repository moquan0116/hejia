/**
 * Created by Administrator on 2017/12/7.
 */
(function($){$.fn.jfocus=function(settings){var defaults={time:5000};var settings=$.extend(defaults,settings);return this.each(function(){var $this=$(this);var sWidth=$this.width();var len=$this.find("ul li").length;var index=0;var picTimer;var btn="<div class='s-dots'>";for(var i=0;i<len;i++){btn+="<span></span>"}btn+="</div> <div class='s-but'><div class='arrow prev'></div><div class='arrow next'></div></div>";$this.append(btn);$this.find(".s-dots span").removeClass("set").mouseenter(function(){index=$this.find(".s-dots span").index(this);showPics(index)}).eq(0).trigger("mouseenter");$this.find(".prev").click(function(){index-=1;if(index==-1){index=len-1}showPics(index)});$this.find(".next").click(function(){index+=1;if(index==len){index=0}showPics(index)});$this.find("ul").css("width",sWidth*(len));$this.hover(function(){clearInterval(picTimer)},function(){picTimer=setInterval(function(){showPics(index);index++;if(index==len){index=0}},settings.time)}).trigger("mouseleave");function showPics(index){var nowLeft=-index*sWidth;$this.find("ul").stop(true,false).animate({"left":nowLeft},300);$this.find(".s-dots span").stop(true,false).removeClass("set").eq(index).stop(true,false).addClass("set")}})}})(jQuery);